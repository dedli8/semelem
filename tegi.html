Избегаем популярных ошибок в HTML5

Не используйте <span class="bold">&lt;section&gt;</span> как обёртку для оформления

    Одна из самых распространённых проблем, которую я часто вижу в разметке сайтов — это произ Честно говоря, это неправильно: <span class="bold">&lt;section&gt;</span> — это не обёртка. Элемент <span class="bold">&lt;section&gt;</span> определяет смысловую секцию содержимого для создания структуры документа. Он должен содержать заголовок. Если вы ищете элемент для того чтобы обернуть в него всю страницу (в стиле HTML или XHTML), подумайте, не применить ли стили непосредственно к элементу <span class="bold">&lt;body&gt;</span>, как описано у Крока Кеймена. Если же вам всё ещё нужна дополнительная обёртка, используйте <span class="bold">&lt;div&gt;</span>.
Раз уж Доктор Майк объясняет, что <span class="bold">&lt;div&gt;</span> не мёртв, а вам не удаётся найти ничего более удачного, пожалуй, этот элемент будет самым подходящим для создания оформительской обёртки.
Таким образом, корректной разметкой для упомянутого выше примера с использованием HTML5 и пары ролей ARIA будет следующий код. Обратите внимание, что вам, в зависимости от дизайна, всё ещё могут понадобится экстра-элементы <span class="bold">&lt;div&gt;</span>.вольная замена элементов <span class="bold">&lt;div&gt;</span> структурными элементами из HTML5, особенно замена оформительской обёртки на <span class="bold">&lt;section&gt;</span>. В XHTML или HTML4 я бы увидел что-нибудь такое:

        Вместо этого я вижу следующее:




                    Если вы не уверены, какие элементы использовать, я рекомендую вам обратиться к нашей пошаговой схеме выбора HTML5-элементов для разметки содержимого.


                    Используйте <span class="bold">&lt;header&gt;</span> осознанно

                        Нет смысла писать разметку, если этого можно не делать, так ведь? К сожалению, я часто вижу элемент <span class="bold">&lt;header&gt;</span> там, где они совсем не нужны.
                            Элемент <span class="bold">&lt;header&gt;</span> представляет собой группу вводного содержимого или навигационных средств и обычно содержит структурный заголовок.
                                Злоупотребление <span class="bold">&lt;header&gt;</span>

                                    Думаю, что вы в курсе, что <span class="bold">&lt;header&gt;</span> можно использовать в документе несколько раз. Но эта возможность привела к следующим ошибкам:


                                    Если ваш <span class="bold">&lt;header&gt;</span> содержит единственный заголовок, избавьтесь от ненужного <span class="bold">&lt;header&gt;</span>. Элемент <span class="bold">&lt;article&gt;</span> в любом случае гарантирует, что заголовок войдёт в смысловую структуру документа. И поскольку <span class="bold">&lt;header&gt;</span> не содержит нескольких элементов, как указано в его описании, зачем вам код, который, в общем-то, не нужен? Будьте проще:


                                        Не оборачивайте все списки ссылок в <span class="bold">&lt;nav&gt;</span>

                                            На момент написания статьи существует более 30-ти новых элементов и неудивительно, что у нас разбегаются глаза, когда дело доходит до создания осмысленной структурной разметки. Поэтому не стоит злоупортреблять всеми доступными сейчас суперсемантическими элементами. Что, к сожалению, часто происходит с элементом <span class="bold">&lt;nav&gt;</span>. Спецификация определяет роль <span class="bold">&lt;nav&gt;</span> следующим образом:
                                            «Элемент <span class="bold">&lt;nav&gt;</span> представляет собой часть страницы, которая ссылается на другие страницы или части текущей, то есть раздел с навигационными ссылками.
                                                Замечание: не все группы ссылок на странице должны быть обёрнуты в элемент <span class="bold">&lt;nav&gt;</span> — этот элемент, главным образом, предназначен для группировки главных навигационных блоков. В частности, в подвалах часто содержатся короткие списки ссылок на различные части сайта, вроде правил использования сервиса, домашней страницы и копирайтов. Элемента <span class="bold">&lt;footer&gt;</span> вполне достаточно для группировки такого рода ссылок; и несмотря на то, что элемент <span class="bold">&lt;nav&gt;</span> может быть использован в таких случаях, обычно в этом нет необходимости.»
                                                    Спецификация WHATWG HTML

                                                    Ключевая фраза — «главных навигационных блоков». Мы можем дискутировать весь день о значении слова «главный», но для меня это значит:
                                                    •	Самая главная навигация;
                                                    •	Поиск по сайту;
                                                    •	Вторичная навигация (что спорно);
                                                    •	Внутренняя навигация (по длинной статье, например).
                                                    И хотя здесь не может быть «правильного» или «неправильного» использования, поверхностный опрос вкупе с моей собственной интерпретацией говорят, что следующие случаи не подходят для использования <span class="bold">&lt;nav&gt;</span>:
                                                        •	Постраничная навигация;
                                                        •	Социальные ссылки, за исключением тех случаев, когда такие ссылки являются основной навигацией, к примеру, на сайтах About Me и Flavours;
                                                        •	Тэги к записи в блоге;
                                                        •	Категории записи;
                                                        •	Навигация третьего уровня;
                                                        •	Подвалы, набитые ссылками.
                                                        Если вы не уверены, стоит ли оборачивать список ссылок в <span class="bold">&lt;nav&gt;</span>, просто спросите у себя: «главная ли это навигация?» Чтобы было легче ответить на этот вопрос, обратитесь к следующим правилам:
                                                            •	«Не используйте <span class="bold">&lt;nav&gt;</span>, если кажется, что в этом случае может подойти и <span class="bold">&lt;section&gt;</span> с заголовком <span class="bold">&lt;hx&gt;</span>», — Ян Хиксон, IRC.
                                                                •	Добавите ли вы этот блок в список ссылок «перейти» для улучшения доступности?
                                                                Если ответ на оба эти вопроса «нет», то, скорее всего, это не <span class="bold">&lt;nav&gt;</span>.
                                                                    Общие ошибки с элементом <span class="bold">&lt;figure&gt;</span>

                                                                        Ах, <span class="bold">&lt;figure&gt;</span>. Правильным использованием этого элемента вместе с подельником <span class="bold">&lt;figcaption&gt;</span> не так-то просто овладеть. Рассмотрим некоторые общие проблемы, которые я вижу при использовании <span class="bold">&lt;figure&gt;</span>.
                                                                        Не каждая картинка это <span class="bold">&lt;figure&gt;</span>

                                                                            Ранее я советовал вам не писать лишний код там, где этого не требуется. Та же ошибка и здесь. Я видел сайты, где каждая картинка была обёрнута в <span class="bold">&lt;figure&gt;</span>. Нет никакой необходимости в добавлении экстра-разметки вокруг картинок только ради самого процесса. Вы просто делаете лишнюю работу и нисколько не улучшаете описание содержимого страницы.
                                                                            Спецификация обозначает <span class="bold">&lt;figure&gt;</span> как «содержимое в потоке, с необязательным заглавием, самодостаточное, обычно упоминаемое в качестве смысловой единицы в основном тексте». Как раз в этом состоит вся красота элемента <span class="bold">&lt;figure&gt;</span>, который может быть перемещён из основного содержимого, скажем, в колонку, что никак не повлияет на основной поток документа.
                                                                                Если это исключительно оформительская картинка, никаким образом не упомянутая в основном документе, то это точно не <span class="bold">&lt;figure&gt;</span>. Есть и другие варианты использования, но просто спросите себя: «Нужна ли эта картинка для лучшего понимания контекста?» Если нет, то это вероятно не <span class="bold">&lt;figure&gt;</span>, а, возможно, <span class="bold">&lt;aside&gt;</span>. Если да, спросите себя: «Можно ли переместить эту картинку в примечания к тексту?» Если ответ на оба вопроса «да», то это, вероятнее всего, <span class="bold">&lt;figure&gt;</span>.
                                                                                    Ваш логотип — это не <span class="bold">&lt;figure&gt;</span>

                                                                                        Плавно переходим к следующей проблеме, вышеупомянутые правила применимы и к ней. Вот пара регулярно встречающихся примеров:



                                                                                        Добавить здесь нечего: это совсем неправильно. Мы можем спорить до посинения насчёт того, должно ли лого находиться внутри <span class="bold">&lt;h1&gt;</span>, но мы здесь не за этим. Настоящая проблема — в неправильном употреблении <span class="bold">&lt;figure&gt;</span>. Этот элемент должен использоваться, только если он упоминается в документе или контексте общего структурного элемента. Будет честным признать, что ваш логотип вряд ли будет упомянут подобным образом. Просто не делайте так. Всё, что вам нужно, это:


                                                                                        Элемент <span class="bold">&lt;figure&gt;</span> — это не только картинки

                                                                                            Другое распространённое заблуждение насчёт <span class="bold">&lt;figure&gt;</span> — что он может быть использован только для картинок. Это не так. Элемент <span class="bold">&lt;figure&gt;</span> может быть видео, аудио, графиком (на SVG, к примеру), цитатой, таблицей, блоком кода, фрагментом текста или любой комбинацией этих и многих других элементов. Не ограничивайте использование <span class="bold">&lt;figure&gt;</span> только картинками. Наша работа, как энтузиастов от веб-стандартов, заключается в том, чтобы максимально точно описывать содержимое при помощи разметки.
                                                                                                Не используйте ненужные атрибуты type

                                                                                                Дело в том, что в HTML5 не нужно добавлять атрибут type для элементов <span class="bold">&lt;script&gt;</span> и <span class="bold">&lt;style&gt;</span>. Если эти элементы автоматически добавляются вашей CMS, то избавиться от них может быть непросто, но если вы пишете код руками или полностью контролируете шаблоны, то нет никакого смысла писать избыточные атрибуты. Поскольку все браузеры ожидают, что скриптами будет JavaScript, а стилями CSS, вам это совсем не нужно:

                                                                                                    Вместо этого просто напишите:

                                                                                                    Кроме того, вы можете уменьшить объём кода, который пишете для задания кодировки документа и других вещей. Глава про семантику в «Погружении в HTML5» Марка Пилгрима объясняет всё.
                                                                                                    Неправильное использование атрибутов форм

                                                                                                Вы, должно быть, знаете, что HTML5 предложил набор новых атрибутов для элементов форм. Мы расскажем о них подробнее в ближайшие месяцы, а пока я покажу вам некоторые вещи, которые делать не стоит.
                                                                                                    Одиночные атрибуты

                                                                                                Некоторые новые атрибуты для элементов форм являются одиночными, и только одно их присутствие в разметке обеспечивает смену поведения. Эти атрибуты включают:
                                                                                                    •	autofocus
                                                                                                •	autocomplete
                                                                                                •	required
                                                                                                Надо признаться, я нечасто встречал подобное, но если в качестве примера взять атрибут required, то попадалось следующее:

                                                                                                    В конечном счёте это никому не вредит. HTML-парсер видит атрибут required в разметке, поэтому требуемая функциональность будет включена. Но что, если поставить код вверх ногами и написать required="false"?

                                                                                                    Парсер по-прежнему увидит атрибут required и применит поведение, несмотря на то, что вы пытались сказать ему не делать этого. Явно не то, что вам было нужно.
                                                                                                    Существует три правильных способа задания одиночных атрибутов, второй и третий из которых нужны только если вы пишете XHTML:
                                                                                                    •	required
                                                                                                •	required=""
                                                                                                •	required="required"
                                                                                                Если применить эту запись к нашему примеру (в HTML), получится следующее:

                                                                                                    Резюме
                                                                                                Было бы просто невозможным перечислить здесь все странные приёмы и образцы разметки, с которыми мне довелось столкнуться, но эти — одни из самых часто встречавшихся.

                                                                                                    Перевод оригинальной статьи «Avoiding common HTML5 mistakes» Ричарда Кларка (Richard Clark), опубликованной на сайте HTML5Doctor.com.
